!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Q0D8:function(t,e){},XdEn:function(e,a,n){"use strict";n.r(a),n.d(a,"ItemsModule",(function(){return zt}));var c,o,m,u=n("PCNd"),l=n("tyNb"),s=n("Xibt"),b=(n("Q0D8"),n("2Vo4")),d=n("fXoL"),p=((c=function(){function t(){i(this,t),this.items=new b.a({}),this.editItem=new b.a({}),this.itemTypes=new b.a(["SELLABLE","PACKAGING_MATERIAL","RAW_MATERIAL"])}return r(t,[{key:"getItemList",value:function(){return this.items.asObservable()}},{key:"setItemList",value:function(t){this.items.next(t)}},{key:"getEditItem",value:function(){return this.editItem.asObservable()}},{key:"setEditItem",value:function(t){this.editItem.next(t)}},{key:"getItemTypes",value:function(){return this.itemTypes.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||c)},c.\u0275prov=d.Kb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),f=n("vkgz"),h=n("AytR"),g=n("tk/3"),v=((o=function(){function t(e){i(this,t),this.http=e,this.baseURl=h.a.SERVER_ORIGIN}return r(t,[{key:"getItemList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=this.baseURl+"/api/item/get_admin_item_list?currentPage=".concat(t,"&currentPageSize=").concat(e);return null!=i&&null!=i&&""!=i.trim()&&(a+="&item_type="+i),this.http.get(a)}},{key:"deleteItem",value:function(t){return this.http.delete(this.baseURl+"/api/item/delete_Item/"+t)}},{key:"getItemDetailsById",value:function(t){return this.http.get(this.baseURl+"/api/item/get_Itemdetail?item_id="+t)}},{key:"updateActivationStatus",value:function(t,e){return this.http.put(this.baseURl+"/api/item/update_Active_Deactive_Item",{item_id:e,is_active:t})}},{key:"newitem",value:function(t){return this.http.post(this.baseURl+"/api/item/add_Item",t)}},{key:"updateItem",value:function(t){return this.http.put(this.baseURl+"/api/item/update/"+t._id,t)}}]),t}()).\u0275fac=function(t){return new(t||o)(d.Yb(g.b))},o.\u0275prov=d.Kb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),y=n("5eHb"),T=((m=function(){function t(e,a,r){i(this,t),this.api=e,this.state=a,this.toster=r}return r(t,[{key:"loadItemList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.api.getItemList(e,i,a).subscribe((function(e){t.state.setItemList(e)}),(function(t){return console.error("api call error from load items ",t)}))}},{key:"getItemList",value:function(){return this.state.getItemList().pipe(Object(f.a)((function(t){return t})))}},{key:"newItem",value:function(t){var e=this;return this.api.newitem(t).toPromise().then((function(t){return e.loadItemList(),e.toster.success("Item Successfully Created","Success",{timeOut:3e3}),t})).catch((function(t){throw console.error("api call error from new Item ",t),t}))}},{key:"deleteItem",value:function(t){var e=this;return this.api.deleteItem(t).toPromise().then((function(t){return e.toster.success("Item Successfully Deleted","Success",{timeOut:3e3}),t})).catch((function(t){throw console.error("api call error from Delete Item",t),t}))}},{key:"getItemDetails",value:function(){return this.state.getEditItem().pipe(Object(f.a)((function(t){return t})))}},{key:"loadItemDetails",value:function(t){var e=this;return this.api.getItemDetailsById(t).toPromise().then((function(t){return e.state.setEditItem(t.item),t})).catch((function(t){throw console.error("api call error from load Item Details",t),t}))}},{key:"updateItem",value:function(t){var e=this;return this.api.updateItem(t).toPromise().then((function(t){return e.loadItemList(),e.toster.success("Item Successfully Updated","Success",{timeOut:3e3}),t})).catch((function(t){throw console.error("api call error from Update item ",t),t}))}},{key:"changeActivationStatus",value:function(t){var e=this;return this.api.updateActivationStatus(t.is_active,t._id).toPromise().then((function(t){return e.toster.success("Unit Successfully Updated","Success",{timeOut:3e3}),t})).catch((function(t){throw console.error("api call error from change activation status Unit",t),t}))}},{key:"getItemTypes",value:function(){return this.state.getItemTypes().pipe(Object(f.a)((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||m)(d.Yb(v),d.Yb(p),d.Yb(y.b))},m.\u0275prov=d.Kb({token:m,factory:m.\u0275fac,providedIn:"root"}),m),U=n("Dh3D"),C=n("+0xr"),I=n("tgey"),P=n("bTqV"),F=n("XiUz"),_=n("Wp6s"),N=n("3Pt+"),w=n("kmnG"),k=n("d3UM"),S=n("ofXK"),R=n("qFsG"),D=n("M9IT"),O=n("FKr1"),x=n("1jcm"),L=n("zkoq"),E=n("NFeN");function q(t,e){if(1&t&&(d.Ub(0,"mat-option",28),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.pc("value",i),d.Cb(1),d.Qc(i)}}function A(t,e){1&t&&(d.Ub(0,"th",29),d.Pc(1," Position "),d.Tb())}var M=function(){return{standalone:!0}};function $(t,e){if(1&t){var i=d.Vb();d.Ub(0,"td",30),d.Ub(1,"input",31),d.cc("change",(function(){d.Dc(i);var t=e.$implicit;return d.gc().categoryPositionChanged(t)}))("ngModelChange",(function(t){return d.Dc(i),e.$implicit.position=t})),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit;d.Cb(1),d.pc("ngModelOptions",d.rc(2,M))("ngModel",a.position)}}function V(t,e){1&t&&(d.Ub(0,"th",29),d.Pc(1," Name "),d.Tb())}function j(t,e){if(1&t&&(d.Ub(0,"td",30),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.Cb(1),d.Rc(" ",i.name," ")}}function z(t,e){1&t&&(d.Ub(0,"th",29),d.Pc(1," Second Name "),d.Tb())}function K(t,e){if(1&t&&(d.Ub(0,"td",30),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.Cb(1),d.Rc(" ",i.secondary_name," ")}}function B(t,e){1&t&&(d.Ub(0,"th",32),d.Pc(1," Image "),d.Tb())}function G(t,e){if(1&t&&(d.Ub(0,"td",30),d.Pb(1,"img",33),d.Tb()),2&t){var i=e.$implicit;d.Cb(1),d.qc("src",i.thumbnail,d.Fc)}}function Q(t,e){1&t&&(d.Ub(0,"th",29),d.Pc(1," Type "),d.Tb())}function H(t,e){if(1&t&&(d.Ub(0,"td",30),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.Cb(1),d.Rc(" ",i.type," ")}}function X(t,e){1&t&&(d.Ub(0,"th",32),d.Pc(1," Price "),d.Tb())}function Y(t,e){if(1&t&&(d.Ub(0,"td",30),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.Cb(1),d.Rc(" ",i.price," ")}}function J(t,e){1&t&&(d.Ub(0,"th",32),d.Pc(1," Item Volume "),d.Tb())}function W(t,e){if(1&t&&(d.Ub(0,"td",30),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.Cb(1),d.Qc(i.item_volume)}}function Z(t,e){1&t&&(d.Ub(0,"th",29),d.Pc(1," Active "),d.Tb())}function tt(t,e){if(1&t){var i=d.Vb();d.Ub(0,"td",30),d.Ub(1,"mat-slide-toggle",34),d.cc("ngModelChange",(function(t){return d.Dc(i),e.$implicit.is_active=t}))("change",(function(){d.Dc(i);var t=e.$implicit;return d.gc().changeActivationStatus(t)})),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit;d.Cb(1),d.pc("ngModel",a.is_active)}}function et(t,e){1&t&&(d.Ub(0,"th",29),d.Pc(1," Controls "),d.Tb())}var it=function(){return[]};function at(t,e){if(1&t){var i=d.Vb();d.Ub(0,"td",30),d.Ub(1,"mat-grid-list",35),d.Ub(2,"mat-grid-tile"),d.Ub(3,"button",36),d.cc("click",(function(){d.Dc(i);var t=e.$implicit;return d.gc().navigateToEdit(t._id)})),d.Ub(4,"mat-icon",37),d.Pc(5,"create"),d.Tb(),d.Tb(),d.Tb(),d.Ub(6,"mat-grid-tile"),d.Ub(7,"button",38),d.cc("click",(function(){d.Dc(i);var t=e.$implicit;return d.gc().deleteIcon(t._id)})),d.Ub(8,"mat-icon",39),d.Pc(9,"delete"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}2&t&&(d.Cb(3),d.pc("routerLink",d.rc(1,it)))}function rt(t,e){1&t&&d.Pb(0,"tr",40)}function nt(t,e){1&t&&d.Pb(0,"tr",41)}var ct,ot=function(){return[5,10,25]},mt=((ct=function(){function t(e,a,r){i(this,t),this.router=e,this.facade=a,this.confirmService=r,this.displayedColumns=["position","name","secondary_name","thumbnail","type","price","is_active","item_volume","controls"],this.itemTypeList=[],this.searchItemType="",this.pageDetails={currentPage:1,itemsPerPage:10,totalPages:3,totalRecords:200},this.totalBanner=0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.facade.loadItemList(this.pageDetails.currentPage,this.pageDetails.itemsPerPage,this.searchItemType),this.facade.getItemList().subscribe((function(e){t.dataSource=new C.p(e.data),t.dataSource.sort=t.sort})),this.facade.getItemTypes().subscribe((function(e){t.itemTypeList=e}))}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}},{key:"pageEvent",value:function(t){this.pageDetails.itemsPerPage=t.pageSize,this.pageDetails.currentPage=t.pageIndex+1,this.facade.loadItemList(this.pageDetails.currentPage,t.pageSize,this.searchItemType)}},{key:"deleteIcon",value:function(t){var e=this;this.confirmService.confirm("Are you sure want to delete this Item?","Confirm").subscribe((function(i){1==i&&e.facade.deleteItem(t).then((function(t){return e.facade.loadItemList(e.pageDetails.currentPage,e.pageDetails.itemsPerPage,e.searchItemType)}))}))}},{key:"navigateToEdit",value:function(t){var e=this;this.facade.loadItemDetails(t).then((function(i){e.router.navigate(["items","edit",t])}))}},{key:"filterItem",value:function(){this.facade.loadItemList(this.pageDetails.currentPage,this.pageDetails.itemsPerPage,this.searchItemType)}},{key:"resetFilter",value:function(){this.searchItemType=""}},{key:"changeActivationStatus",value:function(t){var e=this,i=Object.assign({},t);this.facade.changeActivationStatus(i).then((function(t){e.facade.loadItemList(e.pageDetails.currentPage,e.pageDetails.itemsPerPage,e.searchItemType)}))}}]),t}()).\u0275fac=function(t){return new(t||ct)(d.Ob(l.f),d.Ob(T),d.Ob(s.a))},ct.\u0275cmp=d.Ib({type:ct,selectors:[["app-items-components-item-list"]],viewQuery:function(t,e){var i;1&t&&d.Sc(U.a,!0),2&t&&d.yc(i=d.dc())&&(e.sort=i.first)},decls:59,vars:9,consts:[["mat-raised-button","","aria-label","View basic sidenav example","color","primary","routerLink","new"],["fxLayout","row wrap",1,"matero-row"],["fxFlex","100",1,"matero-col"],[1,"m-r-8"],["placeholder","Type","name","filterType",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","25","fxFlex.lt-sm","100",1,"matero-col"],["mat-raised-button","","color","primary",2,"margin-right","5px",3,"click"],["mat-raised-button","",3,"click"],["matInput","","placeholder","Ex. Abc",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","secondary_name"],["matColumnDef","thumbnail"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","type"],["matColumnDef","price"],["matColumnDef","item_volume"],["matColumnDef","is_active"],["matColumnDef","controls"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["type","number",2,"max-width","100px",3,"ngModelOptions","ngModel","change","ngModelChange"],["mat-header-cell",""],["alt","Item Image","width","100px","height","50px",3,"src"],["color","primary",3,"ngModel","ngModelChange","change"],["cols","2","rowHeight","50px"],["mat-icon-button","","aria-label","Edit",3,"routerLink","click"],["color","primary"],["mat-icon-button","","aria-label","Delete",3,"click"],["color","accent"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(d.Pb(0,"page-header"),d.Ub(1,"section"),d.Ub(2,"a",0),d.Pc(3," Add New "),d.Tb(),d.Tb(),d.Pb(4,"br"),d.Ub(5,"div",1),d.Ub(6,"div",2),d.Ub(7,"mat-card"),d.Ub(8,"mat-card-title"),d.Pc(9,"Filter"),d.Tb(),d.Ub(10,"form"),d.Ub(11,"mat-form-field",3),d.Ub(12,"mat-label"),d.Pc(13,"Type"),d.Tb(),d.Ub(14,"mat-select",4),d.cc("ngModelChange",(function(t){return e.searchItemType=t})),d.Nc(15,q,2,2,"mat-option",5),d.Tb(),d.Tb(),d.Ub(16,"div",6),d.Ub(17,"button",7),d.cc("click",(function(){return e.filterItem()})),d.Pc(18,"Search"),d.Tb(),d.Ub(19,"button",8),d.cc("click",(function(){return e.resetFilter()})),d.Pc(20,"Reset"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(21,"mat-form-field"),d.Ub(22,"mat-label"),d.Pc(23,"Search"),d.Tb(),d.Ub(24,"input",9,10),d.cc("keyup",(function(t){return e.applyFilter(t)})),d.Tb(),d.Tb(),d.Ub(26,"div",11),d.Ub(27,"table",12),d.Sb(28,13),d.Ub(29,"form"),d.Nc(30,A,2,0,"th",14),d.Nc(31,$,2,3,"td",15),d.Tb(),d.Rb(),d.Sb(32,16),d.Nc(33,V,2,0,"th",14),d.Nc(34,j,2,1,"td",15),d.Rb(),d.Sb(35,17),d.Nc(36,z,2,0,"th",14),d.Nc(37,K,2,1,"td",15),d.Rb(),d.Sb(38,18),d.Nc(39,B,2,0,"th",19),d.Nc(40,G,2,1,"td",15),d.Rb(),d.Sb(41,20),d.Nc(42,Q,2,0,"th",14),d.Nc(43,H,2,1,"td",15),d.Rb(),d.Sb(44,21),d.Nc(45,X,2,0,"th",19),d.Nc(46,Y,2,1,"td",15),d.Rb(),d.Sb(47,22),d.Nc(48,J,2,0,"th",19),d.Nc(49,W,2,1,"td",15),d.Rb(),d.Sb(50,23),d.Nc(51,Z,2,0,"th",14),d.Nc(52,tt,2,1,"td",15),d.Rb(),d.Sb(53,24),d.Nc(54,et,2,0,"th",14),d.Nc(55,at,10,2,"td",15),d.Rb(),d.Nc(56,rt,1,0,"tr",25),d.Nc(57,nt,1,0,"tr",26),d.Tb(),d.Ub(58,"mat-paginator",27),d.cc("page",(function(t){return e.pageEvent(t)})),d.Tb(),d.Tb()),2&t&&(d.Cb(14),d.pc("ngModel",e.searchItemType),d.Cb(1),d.pc("ngForOf",e.itemTypeList),d.Cb(12),d.pc("dataSource",e.dataSource),d.Cb(29),d.pc("matHeaderRowDef",e.displayedColumns),d.Cb(1),d.pc("matRowDefColumns",e.displayedColumns),d.Cb(1),d.pc("length",e.pageDetails.totalRecords)("pageSize",e.pageDetails.itemsPerPage)("pageSizeOptions",d.rc(8,ot)))},directives:[I.a,P.a,l.i,F.c,F.a,_.a,_.c,N.x,N.q,N.r,w.c,w.g,k.a,N.p,N.s,S.n,P.b,R.b,C.o,U.a,C.c,C.i,C.b,C.k,C.n,D.a,O.p,C.h,U.b,C.a,N.t,N.d,x.a,L.a,L.c,l.g,E.a,C.j,C.m],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:auto}"]}),ct),ut=n("uEtv"),lt=n("FtGj"),st=n("rGne"),bt=n("A5z7"),dt=n("sYmb");function pt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function ft(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function ht(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function gt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function vt(t,e){if(1&t&&(d.Ub(0,"mat-option",33),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.pc("value",i._id),d.Cb(1),d.Qc(i.name)}}function yt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function Tt(t,e){if(1&t&&(d.Ub(0,"mat-option",33),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.pc("value",i._id),d.Cb(1),d.Qc(i.name)}}function Ut(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function Ct(t,e){if(1&t&&(d.Ub(0,"mat-option",33),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.pc("value",i),d.Cb(1),d.Qc(i)}}function It(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function Pt(t,e){if(1&t&&(d.Ub(0,"mat-option",33),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.pc("value",i._id),d.Cb(1),d.Qc(i.name)}}function Ft(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function _t(t,e){if(1&t){var i=d.Vb();d.Ub(0,"mat-chip",34),d.cc("removed",(function(){d.Dc(i);var t=e.$implicit;return d.gc().removetag(t)})),d.Pc(1),d.Ub(2,"mat-icon",35),d.Pc(3,"cancel"),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit;d.Cb(1),d.Rc(" ",a," ")}}function Nt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function wt(t,e){if(1&t&&(d.Ub(0,"mat-option",33),d.Pc(1),d.Tb()),2&t){var i=e.$implicit;d.pc("value",i._id),d.Cb(1),d.Qc(i.name)}}function kt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function St(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function Rt(t,e){if(1&t){var i=d.Vb();d.Ub(0,"mat-chip",34),d.cc("removed",(function(){d.Dc(i);var t=e.$implicit;return d.gc().removepic(t)})),d.Pc(1),d.Ub(2,"mat-icon",35),d.Pc(3,"cancel"),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit;d.Cb(1),d.Rc(" ",a," ")}}function Dt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function Ot(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}function xt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Pc(1),d.hc(2,"translate"),d.Tb()),2&t&&(d.Cb(1),d.Rc(" ",d.ic(2,1,"validations.required")," "))}var Lt,Et,qt,At=function(){return["home","items","new"]},Mt=function(){return["/items"]},$t=((Lt=function(){function e(t,a,r,n,c,o){var m=this;i(this,e),this.fb=t,this.router=a,this.activeRoute=r,this.facade=n,this.unitFacde=c,this.categoryFacade=o,this.isEditMode=!1,this.activeEditId="",this.separatorKeysCodes=[lt.g,lt.c],this.itemForm=this.fb.group({name:["",[N.w.required]],secondary_name:[""],price:[0],is_active:[!0],item_volume:[0],category_id:[""],unit_id:[""],item_type:[""],description:[""],benefits:[""],category_tags:[[]],thumbnail:[""],picture:[[]],recommended_items:[[]],subCategory_ids:[[]]}),this.activeRoute.params.subscribe((function(t){null!=t.id&&null!=t.id&&""!=t.id&&(m.isEditMode=!0,m.activeEditId=t.id)}))}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.categoryFacade.loadParentCategories(),this.categoryFacade.loadCategories(1,500),this.unitFacde.loadUnites(1,500),this.categoryFacade.getParentCategories().subscribe((function(e){t.categoryList=e})),this.categoryFacade.getCategories().subscribe((function(e){t.subCategoryList=e.data})),this.unitFacde.getUnites().subscribe((function(e){t.unitList=e.data})),this.facade.getItemTypes().subscribe((function(e){t.itemTypeList=e})),this.isEditMode&&this.facade.getItemDetails().subscribe((function(e){var i=Object.assign({},e);t.itemForm.patchValue(e),t.itemForm.patchValue({item_type:i.type,recommended_items:i.recommended_items})}),(function(t){return console.error(t)}))}},{key:"onFormSubmit",value:function(t){var e=this;if(console.log("form value ",this.itemForm.value,this.itemForm.valid),this.itemForm.valid)if(this.isEditMode){var i=this.itemForm.value;i._id=this.activeEditId,this.facade.updateItem(i).then((function(t){e.itemForm.reset(),e.router.navigate(["items"])}))}else this.facade.newItem(this.itemForm.value).then((function(t){e.itemForm.reset(),e.router.navigate(["items"])}))}},{key:"addtag",value:function(e){var i=e.input,a=e.value,r=t(this.itemForm.get("category_tags").value);(a||"").trim()&&(r.push(a.trim()),this.itemForm.get("category_tags").setValue(r)),i&&(i.value="")}},{key:"removetag",value:function(e){var i=t(this.itemForm.get("category_tags").value),a=i.indexOf(e);a>=0&&(i.splice(a,1),this.itemForm.get("category_tags").setValue(i))}},{key:"addpic",value:function(e){var i=e.input,a=e.value,r=t(this.itemForm.get("picture").value);(a||"").trim()&&(r.push(a.trim()),this.itemForm.get("picture").setValue(r)),i&&(i.value="")}},{key:"removepic",value:function(e){var i=t(this.itemForm.get("picture").value),a=i.indexOf(e);a>=0&&(i.splice(a,1),this.itemForm.get("picture").setValue(i))}}]),e}()).\u0275fac=function(t){return new(t||Lt)(d.Ob(N.f),d.Ob(l.f),d.Ob(l.a),d.Ob(T),d.Ob(st.a),d.Ob(ut.a))},Lt.\u0275cmp=d.Ib({type:Lt,selectors:[["app-items-components-item-add"]],decls:110,vars:34,consts:[[3,"title","nav"],["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"form-field-full",3,"formGroup","submit"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","25","fxFlex.lt-sm","100"],["matInput","","placeholder","Name","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","Secondary Name","formControlName","secondary_name","required",""],["matInput","","placeholder","Price","formControlName","price","required","","type","number"],["matInput","","placeholder","Item Volume","formControlName","item_volume","required","","type","number"],["formControlName","category_id","placeholder","Category","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","subCategory_ids","placeholder","Sub Category","required","","multiple",""],["formControlName","item_type","placeholder","Type","required",""],["formControlName","unit_id","placeholder","Unit","required",""],["fxFlex","33","fxFlex.lt-sm","100"],["aria-label","Tags"],["chipList",""],["selectable","true","removable","true",3,"removed",4,"ngFor","ngForOf"],["placeholder","Tags",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["formControlName","recommended_items","placeholder","Recommendation","multiple","","required",""],["fxFlex","34","fxFlex.lt-sm","100"],["formControlName","is_active","color","primary"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","Thumbnail","formControlName","thumbnail","required",""],["aria-label","Pictures"],["picList",""],["placeholder","Pictures",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["matInput","","placeholder","Description","formControlName","description","required",""],["matInput","","placeholder","Benefits","formControlName","benefits","required",""],["mat-raised-button","","color","primary","type","submit",1,"m-t-8",2,"margin-right","5px"],["mat-raised-button","","type","button",1,"m-t-8",3,"routerLink"],[3,"value"],["selectable","true","removable","true",3,"removed"],["matChipRemove",""]],template:function(t,e){if(1&t&&(d.Pb(0,"page-header",0),d.Ub(1,"div",1),d.Ub(2,"div",2),d.Ub(3,"mat-card"),d.Ub(4,"mat-card-title"),d.Pc(5),d.Tb(),d.Ub(6,"form",3),d.cc("submit",(function(t){return e.onFormSubmit(t)})),d.Ub(7,"div",4),d.Ub(8,"div",5),d.Ub(9,"mat-form-field"),d.Ub(10,"mat-label"),d.Pc(11,"Name"),d.Tb(),d.Pb(12,"input",6),d.Nc(13,pt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(14,"div",5),d.Ub(15,"mat-form-field"),d.Ub(16,"mat-label"),d.Pc(17,"Secondary Name"),d.Tb(),d.Pb(18,"input",8),d.Nc(19,ft,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(20,"div",5),d.Ub(21,"mat-form-field"),d.Ub(22,"mat-label"),d.Pc(23,"Price"),d.Tb(),d.Pb(24,"input",9),d.Nc(25,ht,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(26,"div",5),d.Ub(27,"mat-form-field"),d.Ub(28,"mat-label"),d.Pc(29,"Item Volume"),d.Tb(),d.Pb(30,"input",10),d.Nc(31,gt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(32,"div",5),d.Ub(33,"mat-form-field"),d.Ub(34,"mat-label"),d.Pc(35,"Category"),d.Tb(),d.Ub(36,"mat-select",11),d.Nc(37,vt,2,2,"mat-option",12),d.Tb(),d.Nc(38,yt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(39,"div",5),d.Ub(40,"mat-form-field"),d.Ub(41,"mat-label"),d.Pc(42,"Sub Category"),d.Tb(),d.Ub(43,"mat-select",13),d.Nc(44,Tt,2,2,"mat-option",12),d.Tb(),d.Nc(45,Ut,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(46,"div",5),d.Ub(47,"mat-form-field"),d.Ub(48,"mat-label"),d.Pc(49,"Type"),d.Tb(),d.Ub(50,"mat-select",14),d.Nc(51,Ct,2,2,"mat-option",12),d.Tb(),d.Nc(52,It,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(53,"div",5),d.Ub(54,"mat-form-field"),d.Ub(55,"mat-label"),d.Pc(56,"Unit"),d.Tb(),d.Ub(57,"mat-select",15),d.Nc(58,Pt,2,2,"mat-option",12),d.Tb(),d.Nc(59,Ft,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(60,"div",16),d.Ub(61,"mat-form-field"),d.Ub(62,"mat-label"),d.Pc(63,"Tags"),d.Tb(),d.Ub(64,"mat-chip-list",17,18),d.Nc(66,_t,4,1,"mat-chip",19),d.Ub(67,"input",20),d.cc("matChipInputTokenEnd",(function(t){return e.addtag(t)})),d.Tb(),d.Tb(),d.Nc(68,Nt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(69,"div",16),d.Ub(70,"mat-form-field"),d.Ub(71,"mat-label"),d.Pc(72,"Recommendation"),d.Tb(),d.Ub(73,"mat-select",21),d.Nc(74,wt,2,2,"mat-option",12),d.Tb(),d.Nc(75,kt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(76,"div",22),d.Ub(77,"mat-slide-toggle",23),d.Pc(78," Is Active "),d.Tb(),d.Tb(),d.Ub(79,"div",24),d.Ub(80,"mat-form-field"),d.Ub(81,"mat-label"),d.Pc(82,"Thumbnail"),d.Tb(),d.Pb(83,"input",25),d.Nc(84,St,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(85,"div",24),d.Ub(86,"mat-form-field"),d.Ub(87,"mat-label"),d.Pc(88,"Pictures"),d.Tb(),d.Ub(89,"mat-chip-list",26,27),d.Nc(91,Rt,4,1,"mat-chip",19),d.Ub(92,"input",28),d.cc("matChipInputTokenEnd",(function(t){return e.addpic(t)})),d.Tb(),d.Tb(),d.Nc(93,Dt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(94,"div",24),d.Ub(95,"mat-form-field"),d.Ub(96,"mat-label"),d.Pc(97,"Description"),d.Tb(),d.Pb(98,"textarea",29),d.Nc(99,Ot,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Ub(100,"div",24),d.Ub(101,"mat-form-field"),d.Ub(102,"mat-label"),d.Pc(103,"Benefits"),d.Tb(),d.Pb(104,"textarea",30),d.Nc(105,xt,3,3,"mat-error",7),d.Tb(),d.Tb(),d.Tb(),d.Ub(106,"button",31),d.Pc(107,"Save"),d.Tb(),d.Ub(108,"button",32),d.Pc(109," Back"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t){var i=d.zc(65),a=d.zc(90);d.qc("title",e.isEditMode?"Edit Item":"New Item"),d.pc("nav",d.rc(32,At)),d.Cb(5),d.Rc("",e.isEditMode?"Edit Item":"New Item"," "),d.Cb(1),d.pc("formGroup",e.itemForm),d.Cb(7),d.pc("ngIf",e.itemForm.get("name").invalid),d.Cb(6),d.pc("ngIf",e.itemForm.get("secondary_name").invalid),d.Cb(6),d.pc("ngIf",e.itemForm.get("price").invalid),d.Cb(6),d.pc("ngIf",e.itemForm.get("item_volume").invalid),d.Cb(6),d.pc("ngForOf",e.categoryList),d.Cb(1),d.pc("ngIf",e.itemForm.get("category_id").invalid),d.Cb(6),d.pc("ngForOf",e.subCategoryList),d.Cb(1),d.pc("ngIf",e.itemForm.get("subCategory_ids").invalid),d.Cb(6),d.pc("ngForOf",e.itemTypeList),d.Cb(1),d.pc("ngIf",e.itemForm.get("item_type").invalid),d.Cb(6),d.pc("ngForOf",e.unitList),d.Cb(1),d.pc("ngIf",e.itemForm.get("unit_id").invalid),d.Cb(7),d.pc("ngForOf",e.itemForm.get("category_tags").value),d.Cb(1),d.pc("matChipInputFor",i)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",!0),d.Cb(1),d.pc("ngIf",e.itemForm.get("category_tags").invalid),d.Cb(6),d.pc("ngForOf",e.categoryList),d.Cb(1),d.pc("ngIf",e.itemForm.get("recommended_items").invalid),d.Cb(9),d.pc("ngIf",e.itemForm.get("thumbnail").invalid),d.Cb(7),d.pc("ngForOf",e.itemForm.get("picture").value),d.Cb(1),d.pc("matChipInputFor",a)("matChipInputSeparatorKeyCodes",e.separatorKeysCodes)("matChipInputAddOnBlur",!0),d.Cb(1),d.pc("ngIf",e.itemForm.get("picture").invalid),d.Cb(6),d.pc("ngIf",e.itemForm.get("description").invalid),d.Cb(6),d.pc("ngIf",e.itemForm.get("benefits").invalid),d.Cb(3),d.pc("routerLink",d.rc(33,Mt))}},directives:[I.a,F.c,F.a,_.a,_.c,N.x,N.q,N.k,F.d,w.c,w.g,R.b,N.d,N.p,N.i,N.v,S.o,N.t,k.a,S.n,bt.c,bt.b,x.a,P.b,l.g,w.b,O.p,bt.a,E.a,bt.d],pipes:[dt.d],styles:[""]}),Lt),Vt=[{path:"",component:mt},{path:"new",component:$t},{path:"edit/:id",component:$t}],jt=((qt=function t(){i(this,t)}).\u0275mod=d.Mb({type:qt}),qt.\u0275inj=d.Lb({factory:function(t){return new(t||qt)},imports:[[l.j.forChild(Vt)],l.j]}),qt),zt=((Et=function t(){i(this,t)}).\u0275mod=d.Mb({type:Et}),Et.\u0275inj=d.Lb({factory:function(t){return new(t||Et)},imports:[[u.a,jt]]}),Et)}}])}();